<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="froth">
<title>Conditionals and Branching • froth</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conditionals and Branching">
<meta property="og:description" content="froth">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">froth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ahl27.com/froth/articles/froth.html">Overview</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorial">Tutorial</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorial">
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/1-FundamentalFroth.html">Fundamental Froth</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/2-ArithmeticAndStacks.html">Arithmetic and Stacks</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/3-Conditionals.html">Conditionals</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/4-Loops.html">Loops</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/5-Variables.html">Variables</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/6-RInterface.html">Interfacing with R</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/Glossary.html">Glossary</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ahl27.com/tutorials" aria-label="Homepage">
    <span class="fa fa-user"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ahl27/froth" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Conditionals and Branching</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ahl27/froth/blob/HEAD/vignettes/3-Conditionals.Rmd" class="external-link"><code>vignettes/3-Conditionals.Rmd</code></a></small>
      <div class="d-none name"><code>3-Conditionals.Rmd</code></div>
    </div>

    
    
<p>A major component of computers is being able to make decisions. If
you’ve worked with other programming languages, you’ll be familiar with
common terms like <code>if</code> and <code>else</code>.</p>
<p>Let’s look at a quick example to introduce conditionals:</p>
<pre><code>fr&gt; : IS_TWO? ( n -- n ) dup 2 = if ." It's two!" then ;
ok.
fr&gt; 2 is_two?
It's two! ok.</code></pre>
<p>The complete definition is <code>dup 2 = if ." xxx" then</code>. We
have a few new words we haven’t seen before here, so lets step through
this definition:</p>
<ol style="list-style-type: decimal">
<li>
<code>dup</code> duplicates the top element of the stack</li>
<li>
<code>2</code> pushes a 2 onto the stack</li>
<li><new word><code>=</code> pops the top two values and pushes
<code>TRUE</code> if they’re equal and <code>FALSE</code> otherwise</new></li>
<li><new word><code>if</code> checks if the top of stack is
<code>TRUE</code>; if not, it skips to <code>then</code></new></li>
<li>
<code>." xxx"</code> prints <code>xxx</code>
</li>
<li>
<code>then</code> signals the end of the <code>if</code>
statement</li>
</ol>
<p>Thus, we get the following behavior:</p>
<pre><code>fr&gt; 2 is_two?
It's two! ok.
fr&gt; 1 is_two?
ok.</code></pre>
<p>Note how in the second case, we have no output, since the value
pushed is not equal to 2. It would be nice to have some output to tell
us this, which is where <code>else</code> comes in. <code>else</code>
executes statements only if the <code>if</code> branch did not execute.
For example:</p>
<pre><code>fr&gt; : IS_TWO? ( n -- n ) dup 2 = if ." It's two!" else ." Not two :(" then ;
ok.
fr&gt; 2 is_two?
It's two! ok.
fr&gt; 1 is_two?
Not two :( ok.</code></pre>
<p><code>then</code> statements end the conditional. It’s important to
note that everything after <code>then</code> will execute <em>regardless
of whether the <code>if</code> block executed or not</em>. You
<strong>must</strong> include a <code>then</code> to close an if
statement, or else the interpreter won’t know where to skip to after the
end of interpretation.</p>
<p>We can also nest <code>if</code> statements. For this example, we’ll
use <code>&lt;</code>, which functions exactly like <code>=</code>
except that it pushes <code>TRUE</code> if <code>a &lt; b</code> and
<code>FALSE</code> otherwise.</p>
<pre><code>fr&gt; : is_big? ( a -- a ) dup 10 &lt; if ." Small" else dup 20 &lt; if ." Medium" else ." Big" then then ." number" cr ; 
ok.
fr&gt; 5 is_big?
Small number 
ok.
fr&gt; 15 is_big?
Medium number 
ok.
fr&gt; 25 is_big?
Big number 
ok.</code></pre>
<p>Writing long functions like this can be a little annoying. We can use
the <code>\</code> to break up lines without executing functions, which
can help make them more readable:</p>
<pre><code>fr&gt; : is_big? ( a -- a ) \
  + dup 10 &lt;             \
  + if                   \
  +    ." Small"         \
  + else dup 20 &lt;        \
  +   if ." Medium"      \
  +   else ." Big"       \
  +   then               \
  + then                 \
  + ." number" ; 
ok.</code></pre>
<p>The interpreter will add the <code>+</code> to signify that it’s
waiting for you to finish the line. If you get stuck, use
<code>CTRL+C</code> to quit.</p>
<p>So what is happening here? It’s a function that expects a number on
the stack and doesn’t consume it.</p>
<ol style="list-style-type: decimal">
<li>
<code>dup</code> duplicates the number</li>
<li>
<code>10 &lt;</code> pushes <code>TRUE</code> if the number less
than 10 and <code>FALSE</code> otherwise</li>
<li>if <code>TRUE</code> on the stack, print “Small” and go to (8)</li>
<li>
<code>dup</code> duplicates the number</li>
<li>
<code>20 &lt;</code> pushes <code>TRUE</code> if the number less
than 20 and <code>FALSE</code> otherwise</li>
<li>if <code>TRUE</code> on the stack, print “Medium” and go to (8)</li>
<li>print “Big”</li>
<li>print “number”</li>
</ol>
<p><strong>Note:</strong> Every <code>if</code> needs exactly one
<code>then</code>!</p>
<p>There are many comparators available, not just <code>=</code> and
<code>&lt;</code>: - <code>=</code>: are the top two elements equal? -
<code>&lt;</code>: is the top element greater than the first? -
<code>&gt;</code>: is the top element less than the first? -
<code>&lt;&gt;</code>: are the top two elements not equal? -
<code>0=</code>: is the top element zero? - <code>0&lt;</code>: is the
top element greater than zero? - <code>0&gt;</code>: is the top element
less than zero? - <code>&lt;=</code>, <code>&gt;=</code> are defined as
one would expect</p>
<p><code>if</code> uses R’s <code>as.logical</code> to check if the top
value evaluates to <code>TRUE</code>. This means that nonzero numbers
will be treated as <code>TRUE</code>, whereas <code>0</code> will
evaluate to false. Things that cannot be converted to logicals
(e.g. <code>'a'</code>) will throw an error.</p>
<div class="section level2">
<h2 id="logical-operators">Logical Operators<a class="anchor" aria-label="anchor" href="#logical-operators"></a>
</h2>
<p>Just like in other programming languages, <code>froth</code> supports
a number of logical operators.</p>
<ul>
<li>
<code>AND</code>: push <code>TRUE</code> if the top two elements are
both <code>TRUE</code>
</li>
<li>
<code>OR</code>: push <code>TRUE</code> if at least one of the top
two elements are <code>TRUE</code>
</li>
<li>
<code>XOR</code>: push <code>TRUE</code> if exactly one of the top
two elements is <code>TRUE</code>
</li>
<li>
<code>NOT</code>: push <code>TRUE</code> if the top element is
<code>FALSE</code> and vice-versa</li>
</ul>
<p>Some words come with built-in checks. For example, <code>?DUP</code>
duplicates the top value only if it is not zero. For error-handling, you
can use <code>ABORT"</code>. <code>ABORT"</code> checks the stack for a
value; if it is <code>TRUE</code>, it clears the stacks and prints an
error message.</p>
</div>
<div class="section level2">
<h2 id="words-in-this-chapter">Words in this chapter<a class="anchor" aria-label="anchor" href="#words-in-this-chapter"></a>
</h2>
<ul>
<li>
<code>if</code>: if top of stack is <code>TRUE</code>, executes.
Else jumps to the next <code>else</code> or <code>then</code>
block.</li>
<li>
<code>else</code>: executes commands until <code>then</code> only if
the preceding <code>if</code> did not execute.</li>
<li>
<code>then</code>: terminates an <code>if</code> or
<code>if...else</code> block.</li>
<li>
<code>\</code>: signals to the interpreter that you’re making a
newline without running commands</li>
<li>
<code>=</code>: are the top two elements equal?</li>
<li>
<code>&lt;</code>: is the top element greater than the first?</li>
<li>
<code>&gt;</code>: is the top element less than the first?</li>
<li>
<code>&lt;&gt;</code>: are the top two elements not equal?</li>
<li>
<code>0=</code>: is the top element zero?</li>
<li>
<code>0&lt;</code>: is the top element greater than zero?</li>
<li>
<code>0&gt;</code>: is the top element less than zero?</li>
<li>
<code>&lt;=</code>: is top element greater than or equal to the
second?</li>
<li>
<code>&gt;=</code>: is top element less than or equal to the
second?</li>
<li>
<code>AND</code>: push <code>TRUE</code> if the top two elements are
both <code>TRUE</code>
</li>
<li>
<code>OR</code>: push <code>TRUE</code> if at least one of the top
two elements are <code>TRUE</code>
</li>
<li>
<code>XOR</code>: push <code>TRUE</code> if exactly one of the top
two elements is <code>TRUE</code>
</li>
<li>
<code>NOT</code>: push <code>TRUE</code> if the top element is
<code>FALSE</code> and vice-versa</li>
<li>
<code>?DUP</code>: duplicate top value if it is nonzero</li>
<li>
<code>ABORT"</code>: abort if top value true, print error message
(terminated by <code>"</code>)</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aidan Lakshman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
