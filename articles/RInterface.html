<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="froth">
<title>Interfacing with R • froth</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interfacing with R">
<meta property="og:description" content="froth">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">froth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ahl27.com/froth/articles/froth.html">Overview</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorial">Tutorial</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorial">
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/FundamentalFroth.html">1. Fundamental Froth</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/ArithmeticAndStacks.html">2. Arithmetic and Stacks</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/Conditionals.html">3. Conditionals</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/Loops.html">4. Loops</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/Variables.html">5. Variables</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/RInterface.html">6. Interfacing with R</a>
    <a class="external-link dropdown-item" href="https://www.ahl27.com/froth/articles/Glossary.html">Glossary</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.ahl27.com/tutorials" aria-label="Homepage">
    <span class="fa fa-user"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ahl27/froth" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Interfacing with R</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ahl27/froth/blob/HEAD/vignettes/RInterface.Rmd" class="external-link"><code>vignettes/RInterface.Rmd</code></a></small>
      <div class="d-none name"><code>RInterface.Rmd</code></div>
    </div>

    
    
<p>One of the perks of <code>froth</code> is being able to run on top of
R. This means we can take advantage of some nice R features–for example,
the <code>.R</code> word in <code>froth</code> will print the top
element of the stack using <code>R</code>’s <code>print</code> method.
There are also a number of functions designed to allow R users to
interact with the <code>froth</code> environment without having to go
into the commandline.</p>
<p>The first of these is <code>froth.parse</code>, which evaluates a
character vector within a <code>froth</code> environment.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">"1 2 3 . . ."</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 3 2 1</span></span></code></pre>
<p>This environment persists, so we can make multiple calls and have our
stack still remember what’s in it.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">"1 2 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">". . ."</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 3 2 1</span></span></code></pre>
<p>However, this is just printing out the values. What if we wanted to
actually <code>pop</code> a value from the <code>froth</code> stack to
R? This is accomplished with <code><a href="../reference/RInterface.html">froth.RPop()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">"1"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RInterface.html">froth.RPop</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] 1</span></span></code></pre>
<p>You’ll notice that the result is in a list. This is because
<code>froth</code> just returns the entire top entry of the stack and
relies on the user to process it further.</p>
<p>It’s also possible to push arbitrary R objects to <code>froth</code>
using <code>froth.RPush</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RInterface.html">froth.RPush</a></span><span class="op">(</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">**</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">'.s'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## \(x) x**2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## NULL</span></span></code></pre>
<p>Now we have an R function on top of the stack! This stack state
persists if we drop into a commandline, so you can push object from R,
use <code><a href="../reference/froth-package.html">froth()</a></code> to work with them in <code>froth</code>, then
return to R to pull them back (or do it all with
<code>froth.parse</code>).</p>
<p>R has a lot of nice functions, and not all of them are in
<code>froth</code>. However, it’s possible to ask <code>froth</code> to
make its own version of an R function. Let’s say we wanted to define a
function <code>rnorm ( n mu sd -- x )</code> that calls
<code>rnorm(n, mu, sd)</code> using the top three entries of the stack.
We can use <code>froth.RDefine</code> for this. This function takes
three arguments: the name of the new word in <code>froth</code>, the R
function to associate with it, and the number of arguments to provide.
In this case, we’ll need 3 arguments. We can also pass a number to
<code><a href="../reference/RInterface.html">froth.RPop()</a></code> to ask it for more than a single value.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">'clear'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RInterface.html">froth.RDefine</a></span><span class="op">(</span><span class="st">'R_rnorm'</span>, <span class="va">rnorm</span>, <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/froth-parse-source.html">froth.parse</a></span><span class="op">(</span><span class="st">"5 0 0.5 R_rnorm"</span><span class="op">)</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="../reference/RInterface.html">froth.RPop</a></span><span class="op">(</span><span class="fl">5L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">r</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  0.1558440 -0.2137353  0.5694530  0.6231838 -0.2536560</span></span></code></pre>
<p>It’s important to note that <code>froth</code> will pull the
arguments in the same way it pulls arguments for internal functions.
That is, the top of the stack becomes the last argument, the next
becomes the second to last, etc. This is equivalent to how arguments are
parsed for words like <code>/</code> or <code>^</code>.</p>
<div class="section level2">
<h2 id="saving-and-loading">Saving and Loading<a class="anchor" aria-label="anchor" href="#saving-and-loading"></a>
</h2>
<p>A quick detail of some other important functions:</p>
<ul>
<li>The functions <code>saveFrothSession</code> and
<code>loadFrothSession</code> allow you to save and load a
<code>froth</code> environment, respectively. This will save any
variables and words you’ve defined from within <code>froth</code>.
<code>froth.RDefine</code> words will not be saved.</li>
<li>
<code>froth.source</code> is identical to <code>froth.parse</code>,
except that it reads from a file rather than from a character
vector.</li>
<li>
<code>writeFrothDictionary</code> will write all your defined words
to the console or (if a file is specified) to a file. This is a good
utility for exporting your word definitions.</li>
</ul>
<div class="center">
<ul class="pagination pagination-lg">
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Variables.html">«</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/FundamentalFroth.html">1</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/ArithmeticAndStacks.html">2</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Conditionals.html">3</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Loops.html">4</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Variables.html">5</a>
</li>
<li class="page-item active">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/RInterface.html">6</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Glossary.html">7</a>
</li>
<li class="page-item">
<a class="external-link page-link" href="https://www.ahl27.com/froth/articles/Glossary.html">»</a>
</li>
</ul>
</div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aidan Lakshman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
